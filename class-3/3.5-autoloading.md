---
layout: default
title: 3.5 PHP Autoloading
nav_order: 6
---

# 3.5 PHP Autoloading

Hi everyone! In this lesson, we’re going to talk about **autoloading in PHP**.

Autoloading is a feature that automatically loads class files when you need them—without you having to manually `require` or `include` each file.

This is especially important in larger projects where you might have dozens or even hundreds of classes spread across multiple folders.

---

## The Old Way: `require` and `include`

Traditionally, if you wanted to use a class, you had to bring in its file manually:

```php
require 'Library/Book.php';
require 'Store/Book.php';

$book = new Library\Book("Alice in Wonderland");
```

But as your project grows, keeping track of all those `require` statements becomes messy and hard to maintain.

---

## The Idea of Autoloading

With **autoloading**, PHP takes care of this for you.

When you try to use a class that hasn’t been loaded yet, PHP will call an *autoload function*. That function can figure out where the class file lives and load it automatically.

---

## Using `spl_autoload_register()`

The main way to do this in modern PHP is with `spl_autoload_register()`.

Here’s a simple example:

```php
spl_autoload_register(function($class) {
    $path = str_replace("\\", "/", $class) . ".php";
    if (file_exists($path)) {
        require $path;
    }
});
```

Now, when you use:

```php
$user = new App\Models\User("Alice");
```

PHP automatically looks for `App/Models/User.php` and includes it.

This works beautifully if your namespaces match your folder structure—which is a common best practice.

---

## Composer Autoloading

Most modern PHP projects don’t write their own autoloaders. Instead, they rely on **Composer**, the PHP dependency manager.

When you install Composer and set up a `composer.json` file, you can tell it how to autoload your classes.

For example:

```json
{
    "autoload": {
        "psr-4": {
            "App\\": "src/"
        }
    }
}
```

This tells Composer:

* Any class starting with `App\` lives inside the `src/` folder.

After running `composer dump-autoload`, Composer generates an optimized autoloader file.

Then in your project, you just require Composer’s autoloader once:

```php
require __DIR__ . '/vendor/autoload.php';
```

From that point on, any `App\` class will be loaded automatically—without you writing any extra code.

---

## PSR-4

[PSR-4](https://www.php-fig.org/psr/psr-4/) is a PHP standard that defines how classes and namespaces map to file paths, making autoloading consistent across projects. With PSR-4, each namespace prefix corresponds to a base directory, and the sub-namespaces match the folder structure inside that directory. For example, a class named App\Services\Greeter would be stored in src/Services/Greeter.php if the App\ namespace is mapped to src/. This convention allows tools like Composer to automatically locate and load classes without requiring manual require statements, helping developers keep code organized and making it easy to integrate third-party libraries that follow the same rules.

---

## Why It Matters

Autoloading is the backbone of modern PHP development.

* It keeps code cleaner and more organized.
* It allows you to follow conventions like **PSR-4**, which maps namespaces to folder structures.
* And it makes it possible to use thousands of third-party libraries through Composer without worrying about how to load them.

---

## Closing Thoughts

To wrap up:

* Autoloading replaces manual `require` statements with automatic class loading.
* PHP’s `spl_autoload_register()` lets you define custom rules for finding class files.
* Composer builds on this system to provide a powerful, standardized autoloader that most modern PHP projects rely on.

Thanks for watching, and I’ll see you in the next lesson!
