---
layout: default
title: 15.2 Singleton Pattern
nav_order: 2
---

# 15.2 Singleton Pattern

In this video, we’re looking at the [**Singleton pattern**](https://refactoring.guru/design-patterns/singleton/php/example). This pattern ensures that only one instance of a particular class exists in your application. It’s commonly used for shared resources—most often a database connection.

The idea is simple:

* The class controls how it is created.
* You never instantiate it directly with `new`.
* You call a method like `getInstance()` to retrieve the single instance.

```php
<?php
class Database {
    private static $instance = null;
    private $pdo;

    // private constructor to prevent direct instantiation
    private function __construct() {
        $this->pdo = new PDO("mysql:host=db;dbname=mydb", "root", "mariadb");
    }

    public static function getInstance() {
        if (self::$instance === null) {
            self::$instance = new Database();
        }
        return self::$instance;
    }

    public function getConnection() {
        return $this->pdo;
    }
}

$db = Database::getInstance()->getConnection();
```

This prevents multiple database connections from being created unnecessarily. It keeps your application consistent and makes your code easier to maintain. Use it when you truly need one shared object.
