---
layout: default
title: 9.1 Introduction to PHP Data Objects (PDO)
nav_order: 1
---

# 9.1 Introduction to PHP Data Objects (PDO)

## What is PDO?

**PHP Data Objects (PDO)** is a modern, flexible way to connect PHP to different types of databases. It serves as a **database abstraction layer**, providing one consistent API for many database systems.

Whether your application uses **MySQL**, **PostgreSQL**, **SQLite**, or **SQL Server**, the same PDO methods work. You simply change the **Data Source Name (DSN)** when connecting.

Instead of learning a new set of functions for every database, PDO gives you **one unified interface**.

## Key Benefits of PDO

1. **Portability** - Switch databases just by changing your connection string
2. **Security** - Full support for **prepared statements**, protecting against SQL injection
3. **Consistency** - All databases share the same methods for connecting, querying, binding parameters, and fetching results
4. **Error handling** - Uses exceptions for graceful error handling instead of silent failures
5. **Flexibility** - Configure fetch modes, control transactions, and manage connections in an object-oriented way

PDO simplifies database programming while keeping your applications secure and future-proof.

## PDO Limitations

PDO isn't perfect. Here are some limitations to be aware of:

1. **Not all vendor-specific features are exposed** - Some MySQL-only features like `multi_query()` or certain metadata functions aren't available through PDO
2. **Slightly slower** for single, simple queries (though this difference is usually negligible)
3. **SQL portability still depends on you** - While PDO's API is consistent, your SQL syntax might still differ between databases

Think of PDO as giving you a *common toolkit*, but not necessarily one-size-fits-all SQL.

## Setting up a PDO Connection

Here's how to create a PDO connection to a MySQL database:

```php
<?php
$host = 'db';
$db   = 'mydb';
$user = 'mariadb';
$pass = 'mariadb';
$dsn  = "mysql:host=$host;dbname=$db;charset=utf8mb4";

$options = [
    PDO::ATTR_ERRMODE            => PDO::ERRMODE_EXCEPTION, // throw exceptions
    PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,       // associative arrays
    PDO::ATTR_EMULATE_PREPARES   => false,                  // use native prepares
];

try {
    $pdo = new PDO($dsn, $user, $pass, $options);
    echo "Connected successfully to MySQL!";
} catch (PDOException $e) {
    die("Connection failed: " . $e->getMessage());
}
```

### Key Components:

- **DSN** string defines which database driver to use (`mysql:`), where to connect, and which database to open
- **Options** array configures error handling and fetch style
- **PDO constructor** creates the connection object
- **PDOException** provides clear, catchable errors when something goes wrong

## Database Portability Example

One of PDO's biggest advantages is how easy it is to switch database engines. Here's the same connection using SQLite instead of MySQL:

```php
<?php
// SQLite example
$dsn = "sqlite:" . __DIR__ . "/example.sqlite";

try {
    $pdo = new PDO($dsn);
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    echo "Connected successfully to SQLite!";
} catch (PDOException $e) {
    die("Connection failed: " . $e->getMessage());
}
```

Notice that we only changed the DSN line and removed the username/password. The rest of our code—prepared statements, fetching results, transactions—will work exactly the same way.

That's the **beauty of PDO**: one API, many databases.

## Summary

- **PDO** is the go-to database interface for modern PHP
- Supports **secure prepared statements**, **exception-based error handling**, and **cross-database portability**
- Easy to switch from **MySQL** to **SQLite** (or others) by changing just the DSN
- While PDO doesn't expose every vendor-specific feature, it's the safest, most flexible way to work with databases in PHP 8 and beyond

## Next Steps

In the next video, we'll build on this foundation by learning how to run queries, insert data, and use prepared statements securely with PDO.
