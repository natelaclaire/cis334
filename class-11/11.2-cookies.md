---
layout: default
title: 11.2 Working with Cookies in PHP
nav_order: 2
---

# 11.2 Working with Cookies in PHP

In this video, weâ€™re going to talk about **cookies** â€” not the chocolate chip kind, but the kind that your browser and PHP use to remember information between requests. Cookies are one of the oldest and most important tools for managing state on the web.

---

## ğŸª **1. What Are Cookies?**

A **cookie** is a small piece of text data that a web server stores in a userâ€™s browser. Each time the browser makes a new request to the same site, it automatically sends that cookie back to the server.

Cookies can store information like:

* Usernames or preferences
* Shopping cart contents
* Authentication tokens

Theyâ€™re limited in size â€” about **4 KB per cookie** â€” but theyâ€™re very powerful for maintaining state between visits.

---

## ğŸ§ **2. Setting Cookies in PHP**

In PHP, we use the **`setcookie()`** function to create a cookie. Letâ€™s look at a simple example:

```php
<?php
setcookie("username", "Alex", time() + 3600);
echo "Cookie has been set!";
?>
```

This line creates a cookie named **â€œusernameâ€**, gives it the value **â€œAlexâ€**, and sets it to expire in **one hour**.

**Important:**
`setcookie()` must be called **before any output** is sent to the browser â€” even before your `<html>` tag or any echo statements â€” because cookies are sent in the HTTP headers. If it's necessary to start building a page before setting the cookie, then we can use output buffering, which we discussed briefly in CIS 333.

---

## ğŸ•’ **3. Temporary vs. Persistent Cookies**

Cookies can be **temporary** or **persistent.**

* **Temporary (session) cookies** are stored in memory and automatically deleted when the browser is closed. You create these by omitting the expiration time:

```php
setcookie("theme", "dark");
```

* **Persistent cookies** have a specific expiration time, set using the `time()` function:

```php
setcookie("theme", "dark", time() + (86400 * 7)); // lasts 7 days
```

These are saved to the userâ€™s disk and survive browser restarts until they expire or are manually deleted.

---

## âš™ï¸ **4. Understanding the `setcookie()` Parameters**

The `setcookie()` function actually has **up to seven parameters**:

```php
setcookie(
  name,          // The cookie name (string)
  value,         // The cookie value (string)
  expires,       // Expiration time as a Unix timestamp
  path,          // The path on the server where the cookie is available
  domain,        // The (optional) domain for which the cookie is valid
  secure,        // Whether to send only over HTTPS
  httponly       // Whether JavaScript can access the cookie
);
```

Letâ€™s go over these:

* **`path`** â€” Defaults to the current directory. Setting it to `/` makes the cookie available site-wide.
* **`domain`** â€” Lets you share cookies across subdomains (for example, `.example.com`).
* **`secure`** â€” Set to `true` to send cookies **only** over HTTPS, protecting against interception.
* **`httponly`** â€” When `true`, prevents JavaScript from reading the cookie, helping defend against XSS attacks.

Hereâ€™s a more complete, secure example:

```php
setcookie(
  "user_id",
  "42",
  time() + 3600,
  "/",
  "example.com",
  true,
  true
);
```

---

## ğŸ” **5. Reading Cookies in PHP**

Once a cookie has been sent to the browser and then returned in the next request, PHP makes it available in the **`$_COOKIE`** superglobal array:

```php
echo "Welcome, " . $_COOKIE["username"];
```

Keep in mind that cookies wonâ€™t appear in `$_COOKIE` until the next page load â€” the browser has to send them back first.

---

## ğŸ§­ **6. Viewing Cookies in Your Browser's Developer Tools**

Letâ€™s see what cookies actually look like in the browser.

1. Open your site in **Google Chrome**.
2. Press **F12** (or **Ctrl + Shift + I**) to open **Developer Tools**.
3. Go to the **â€œApplicationâ€** tab.
4. Under **Storage â†’ Cookies**, select your siteâ€™s URL.

Youâ€™ll see all cookies stored by that site â€” including their **names**, **values**, **domains**, **paths**, **expiration dates**, and **security flags**.

You can even edit or delete cookies here to test how your PHP scripts respond.

Now, if you want to see cookies being sent back and forth in real time, switch to the **â€œNetworkâ€** tab:

* Refresh the page.
* Click on the first network request.
* Look at the **Headers** section.

Under **Response Headers**, youâ€™ll find lines like:
`Set-Cookie: username=Alex; path=/; secure; httponly`

And under **Request Headers**, youâ€™ll see:
`Cookie: username=Alex`

This shows how cookies travel from server to client and back again with every request.

---

## ğŸ§¹ **7. Deleting Cookies**

To delete a cookie, set its expiration time to a point in the past:

```php
setcookie("username", "", time() - 3600);
```

This tells the browser to remove the cookie immediately.

---

### âœ… **8. Wrap-Up**

Cookies are one of the oldest yet most essential tools for managing user data on the web. You now know how to:

* Create temporary and persistent cookies
* Secure them with the proper parameters
* View and manage them in the browser

In the next lesson, weâ€™ll see how PHP **sessions** build on this concept â€” offering a safer, server-side way to manage user information.
