---
layout: default
title: 11.3 Managing Sessions in PHP
nav_order: 3
---

# 11.3 Managing Sessions in PHP

In our last lesson, we learned how to store data in the browser using **cookies**. But sometimes, we need to store information **securely on the server**, where users can‚Äôt see or modify it. That‚Äôs where **sessions** come in.

---

## üîπ **1. What Are Sessions?**

A **session** is a way for PHP to remember information across multiple page requests by storing it on the server.

When a session starts:

* PHP generates a **unique session ID**.
* That ID is sent to the browser (usually in a cookie).
* The browser includes that session ID with every new request, allowing PHP to retrieve the user‚Äôs stored data.

Sessions are perfect for:

* User authentication
* Shopping carts
* Game state
* Any data that needs to persist securely between requests

---

## üß† **2. Why Sessions Are More Secure Than Cookies Alone**

With cookies, all data is stored **on the client**, which means users could read or change it. With sessions, only a random **session ID** is sent to the browser ‚Äî the actual data stays on the **server**, where users can‚Äôt modify it directly.

That‚Äôs why sessions are the foundation of most secure PHP applications.

---

## ‚öôÔ∏è **3. Starting a Session**

To use sessions, we always begin by calling the `session_start()` function ‚Äî and it must appear **before any output** is sent to the browser, just like `setcookie()`.

```php
<?php
session_start();
?>
```

This tells PHP to either:

* Resume an existing session (if a session ID is found), or
* Create a new one (if it‚Äôs the user‚Äôs first visit).

---

## üóÇÔ∏è **4. Storing and Retrieving Session Data**

Once a session is started, PHP provides the global array `$_SESSION`. You can use it just like any other associative array.

```php
<?php
session_start();
$_SESSION["username"] = "Alex";
$_SESSION["loggedin"] = true;
echo "Session variables are set.";
?>
```

Then, on another page, you can retrieve those values:

```php
<?php
session_start();
echo "Welcome, " . $_SESSION["username"];
?>
```

All of this information is stored on the server, and it‚Äôs automatically available to any page that starts the same session.

---

## üßæ **5. Where Are Sessions Stored?**

By default, PHP stores session data in **temporary files** on the server ‚Äî usually in a directory like `/tmp` on Linux or `C:\Windows\Temp` on Windows.

Each session is stored as a small text file named after the session ID.

You can find this setting in your `php.ini` file under:

```ini
session.save_handler = files
session.save_path = "/tmp"
```

---

## üß© **6. Other Session Save Handlers**

PHP also supports other **session save handlers**, which control where session data is stored.

Instead of saving sessions to files, you can store them in:

* A **database**, for persistence across servers
* **Memcached** or **Redis**, for high-performance, in-memory storage

These options are popular in large-scale or load-balanced environments, where multiple servers need to share session data.

You can configure these in `php.ini` or by calling `session_set_save_handler()` in your code.

---

## üîë **7. How Session IDs Are Passed**

The **session ID** connects the user to their data on the server.
By default, PHP passes this ID using a **cookie** named `PHPSESSID`.

You can see it by checking your browser‚Äôs cookies in Chrome DevTools under **Application ‚Üí Cookies**.

However, session IDs can also be passed through the **URL query string** ‚Äî like this:

```
index.php?PHPSESSID=2c9e0a123abc...
```

This method is less common today because it can expose session IDs in browser history or logs, but it still works if cookies are disabled.

---

## üßπ **8. Modifying and Destroying Sessions**

To modify session variables, just overwrite them:

```php
$_SESSION["theme"] = "dark";
```

To remove one variable:

```php
unset($_SESSION["theme"]);
```

And to completely destroy a session ‚Äî for example, when logging out ‚Äî use:

```php
session_start();
session_unset();     // removes all session variables
session_destroy();   // ends the session
```

This clears the data on the server and tells the browser that the session is over.

---

## üß≠ **9. Seeing Sessions in Action**

Let‚Äôs see how this looks in practice.

1. Open Chrome DevTools (**F12 ‚Üí Application ‚Üí Cookies**)
2. Load your PHP session page ‚Äî you‚Äôll see a cookie named `PHPSESSID`.
3. Refresh the page, and notice that the same session ID is reused.
4. You can also view session files on the server ‚Äî each file contains serialized PHP data representing your `$_SESSION` variables.

This is how PHP automatically reconnects users to their stored information between requests.

---

## üß† **10. Customizing Sessions**

While the default behavior works for most projects, PHP sessions can be customized.

For example:

* Change the session name:

```php
session_name("MYAPPSESSID");
```

* Set a custom lifetime for cookies:

```php
session_set_cookie_params(3600, "/");
```

* Store sessions in a custom directory:

```php
session_save_path("/var/www/sessions");
```

These options give you full control over how session data is handled and secured.

---

## ‚úÖ **11. Wrap-Up**

Sessions are one of PHP‚Äôs most important features for managing state securely.
In this lesson, we learned how to:

* Start, store, and retrieve session data
* Understand how PHP tracks session IDs
* Safely end or destroy sessions
* And explore advanced options like database or Memcached session storage

In the next module, we‚Äôll bring it all together ‚Äî using sessions to build **user logins** and **personalized pages** in your web applications.
